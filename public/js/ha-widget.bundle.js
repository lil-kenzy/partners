(()=>{"use strict";var e,t,o={322:(e,t,o)=>{o.d(t,{$_:()=>b,EO:()=>w,Uu:()=>c,Y5:()=>m,bm:()=>p,cz:()=>y,dJ:()=>v,hD:()=>d,hd:()=>h,hj:()=>g,pf:()=>l});let r=null,n=null,a="https://assets.myhomeadvantage.com/",s="https://myha-api-prod.azurewebsites.net/";const i=new Headers({"Abp.TenantId":n,"X-API-Key":r,"User-Agent":"WidgetClient"}),l=e=>{if(e)s=e;else{const e=window.location.host;(e.includes("localhost")||e.includes("127.0.0.1"))&&(a="/",s="https://api.local.myhomeadvantage.com:44301/")}},c=async(e,t)=>{try{const o=`${s}${"api/services/app/ApiKeys/ValidateApiKey"}?${d({apiKey:e})}`,a=await fetch(o,{method:"POST",headers:new Headers({"User-Agent":"WidgetClient","Abp.TenantId":t,"X-API-Key":e})});if(!a.ok)throw new Error("Network response was not ok");if((await a.json()).result)return r=e,n=t,i.set("Abp.TenantId",n),i.set("X-API-Key",r),!0}catch(e){console.error("Fetch error:",e)}return!1},d=e=>Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&"),u=e=>{e=e.replace(/^#/,"");const t=parseInt(e,16);return`${t>>16&255}, ${t>>8&255}, ${255&t}`};function p(e){const t=e.shadowRoot.getElementById("autocomplete-items");t.style.display="none",t.innerHTML=""}function h(e){if(e.shadowRoot.host.style.setProperty("--ha-primary",e.primaryColor),e.shadowRoot.host.style.setProperty("--ha-primary-rgb",u(e.primaryColor)),e.shadowRoot.host.style.setProperty("--bs-primary-rgb",u(e.primaryColor)),e.secondaryColor&&(e.shadowRoot.host.style.setProperty("--ha-secondary",e.secondaryColor),e.shadowRoot.host.style.setProperty("--ha-secondary-rgb",u(e.secondaryColor)),e.shadowRoot.host.style.setProperty("--bs-secondary-rgb",u(e.secondaryColor))),e.widgetBackground&&(e.shadowRoot.host.style.setProperty("--ha-widget-bg",e.widgetBackground),e.shadowRoot.host.style.setProperty("--ha-widget-bg-rbg",u(e.widgetBackground))),e.fontUrl){const t=document.createElement("link");t.rel="stylesheet",t.href=e.fontUrl,e.shadowRoot.appendChild(t),e.shadowRoot.host.style.setProperty("--bs-font-sans-serif",e.fontFamily),e.shadowRoot.host.style.setProperty("--bs-body-font-family",e.fontFamily)}}function f(e){const t=String(e||"").replace(/\D/g,"").slice(0,10),o=t.length;return o<=3?t:o<=6?`${t.slice(0,3)}-${t.slice(3)}`:`${t.slice(0,3)}-${t.slice(3,6)}-${t.slice(6)}`}function y(e){return String(e||"").replace(/\D/g,"")}function m(e,{selectorOrName:t="mobilePhone",delegateRoot:o=null}={}){if(!e||!e.shadowRoot)return;const r=o||e.shadowRoot,n=t.includes("[")||t.includes(" ")?t:`input[name="${t}"]`;!function(e,{selectorOrName:t="mobilePhone",delegateRoot:o=null}={}){if(!e||!e.shadowRoot||!e.__phoneMaskHandlers)return;const r=t.includes("[")||t.includes(" ")?t:`input[name="${t}"]`,n=r+":"+(o?"scoped":"shadow"),a=e.__phoneMaskHandlers[n];if(!a)return;const{root:s,onInput:i,onPaste:l,onBlur:c}=a;s.removeEventListener("input",i),s.removeEventListener("paste",l),s.removeEventListener("blur",c,!0),delete e.__phoneMaskHandlers[n]}(e,{selectorOrName:t,delegateRoot:o});const a=e=>{const t=e.target;if(!(t instanceof HTMLInputElement))return;if(!t.matches(n))return;const o=y(t.value);t.value=f(o);const r=t.value.length;t.setSelectionRange?.(r,r)},s=e=>{const t=e.target;if(!(t instanceof HTMLInputElement))return;if(!t.matches(n))return;e.preventDefault();const o=y((e.clipboardData||window.clipboardData)?.getData("text")||"").slice(0,10);t.value=o?f(o):"";const r=t.value.length;t.setSelectionRange?.(r,r)},i=e=>{const t=e.target;if(!(t instanceof HTMLInputElement))return;if(!t.matches(n))return;const o=y(t.value);o.length&&10!==o.length?(t.classList.add("is-invalid"),t.setCustomValidity?.("Please enter a 10-digit phone number"),t.reportValidity?.()):(t.classList.remove("is-invalid"),t.setCustomValidity?.(""))},l=n+":"+(o?"scoped":"shadow");e.__phoneMaskHandlers=e.__phoneMaskHandlers||{},e.__phoneMaskHandlers[l]={onInput:a,onPaste:s,onBlur:i,root:r,selector:n},r.addEventListener("input",a),r.addEventListener("paste",s),r.addEventListener("blur",i,!0)}const b=()=>a,g=()=>s,v=()=>i,w=()=>n}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return o[e](a,a.exports,n),a.exports}n.m=o,n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>e+"."+{11:"85da0018fc000138806c",283:"a84e1e64cb5397320716",527:"5d2f63413e551998ec58",625:"9e403dfe5b6a9db1edf5",847:"bbd6e8f30ba71b093f9e",984:"c545753f7035307c093b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="webpack:",n.l=(o,r,a,s)=>{if(e[o])e[o].push(r);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=o),e[o]=[r];var p=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var n=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={792:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise(((o,n)=>r=e[t]=[o,n]));o.push(r[2]=a);var s=n.p+n.u(t),i=new Error;n.l(s,(o=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,r[1](i)}}),"chunk-"+t,t)}};var t=(t,o)=>{var r,a,[s,i,l]=o,c=0;if(s.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)l(n)}for(t&&t(o);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},o=self.webpackChunkwebpack=self.webpackChunkwebpack||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=n(322);const s=Array.from(document.scripts).find((e=>e.src.includes("bundle.js"))),i=s.getAttribute("data-key"),l=s.getAttribute("data-tenant"),c=s.getAttribute("data-api");!async function(){try{(0,a.pf)(c);await(0,a.Uu)(i,l)?(n.e(11).then(n.bind(n,11)),n.e(527).then(n.bind(n,527)),n.e(847).then(n.bind(n,847)),n.e(283).then(n.bind(n,283)),n.e(984).then(n.bind(n,984)),n.e(625).then(n.bind(n,625))):console.log("Invalid key. Widgets not available.")}catch(e){console.error("Error during key validation:",e)}}()})();
//# sourceMappingURL=ha-widget.bundle.js.map